# Настройка модуля

Для сохранения всех настроек, включая настройки фильтра, нажмите кнопку **Применить** или **Сохранить**.

Оперативные настройки сохраняются только на время работы модуля без перезагрузки страницы.

## Общие настройки

| ![Настройки](/img/tutorial/settings.jpg) |
|-|

| Пункт | Описание |
|-------|----------|
| **Разделитель атрибутов** | Применяется, если товар может иметь несколько разных значений одного и того же атрибута. Подробнее в [Термины и определения](theory.html#theory-terms). |
| **Учитывать порядок сортировки** | Если включено, деревья формируются с учетом пользовательского порядка, иначе — по алфавиту. |
| **Смарт скроллинг** | Включает автопрокрутку узлов дерева внутри фиксированной области. |
| **Показывать пустые значения** | Показывать или скрывать пустые значения атрибута. Подробнее: [Удалить пустые значения](tools.html#tools-empty). |
| **Товар в новом окне** | Открывать страницу товара в новом окне. |
| **Ленивая загрузка** | Дочерние узлы загружаются по запросу. Подробнее: [Загрузка узлов](theory.html#theory-loading). |
| **Кэш деревьев атрибутов** | Деревья загружаются из кэша, а не из базы данных. Подробнее: [Очистить кэш деревьев](tools.html#tools-cache). |
| **Все магазины** | Включает категории всех магазинов в список, если включено. |

:::info
Изменить размеры скроллинга.
Высоту области прокрутки можно изменить в файле `/admin/view/stylesheet/attributico.css`, изменив свойство:
```css
.smart-scroll {height: 250px;}
```
:::

:::danger
Соблюдайте осторожность при открытии форма товара в новом окне.
Изменения в форма товара сохраняются в БД, но модуль "подхватывает" их только при перезагрузке. Без обновления данные могут быть некорректными.
:::

## Настройки деревьев

| ![Настройки деревьев](/img/tutorial/tree_settings.jpg) |
|-|

Теперь можно настроить дочерние узлы для каждого дерева. Подробнее: [Термины и определения](theory.html#theory-terms).

## Добавление/удаление атрибутов категории

| ![Атрибуты категории](/img/tutorial/category_attribute_settings.jpg) |
|-|

| Пункт | Описание |
|-------|----------|
| **Добавлять атрибут категории в товары** | Новый атрибут автоматически добавляется во все товары категории. |
| **Удалять атрибут категории из товаров** | Атрибут удаляется из всех товаров при удалении из категории. |

## Наследование

| ![Настройки наследования](/img/tutorial/inherit_settings.jpg) |
|-|

| Пункт | Описание |
|-------|----------|
| **Добавлять во все подкатегории** | Новый атрибут рекурсивно добавляется во все дочерние категории. |
| **Удалять из всех подкатегорий** | Атрибут удаляется из всех подкатегорий. |
| **Автовыбор подкатегорий с учетом иерархии** | Все дочерние категории автоматически выбираются при отметке родительской. |

:::warning
При включенной иерархии отмена выбора одной дочерней категории снимает выбор с родительской.
:::

## Добавление значений атрибута в товар

| ![Добавление значений](/img/tutorial/product_settings.jpg) |
|-|

| Пункт | Описание |
|-------|----------|
| **Значения атрибутов** | Определяет, как изменять значения атрибута при добавлении. |
| `Очищать` | Все значения атрибута удаляются. |
| `Не менять` | Существующие значения остаются без изменений. |
| `Заменять дежурным` | Все значения заменяются дежурным шаблоном. |
| `Только в пустые` | Только пустые значения заменяются дежурным шаблоном. |

:::info
Значения атрибутов можно редактировать прямо в узле дерева с помощью строчного редактора, так же, как в форме товара.
:::

:::warning
Если отключен пункт **Добавлять атрибут категории в товары**, то настройки **Добавление значений атрибута в товар** не сработают.
:::

## Сравнение значений

| ![Сравнение значений](/img/tutorial/comparemode.jpg) |
|-|

Обновление значений происходит при закрытии редактора. По умолчанию замена выполняется по вхождению подстроки.

Пример: замена `MP4` → `MP3`:
- **По вхождению**: `MP4/AVI` → `MP3/AVI`
- **По точному совпадению**: `50` → `50гр`, но `50-100` не изменится.

:::info
Разница редактирования **Шаблонов** и **Значений**.
Редактирование **Значений** может быть по вхождению или точному совпадению. **Шаблоны** всегда заменяются полностью.
:::

## Оперативное изменение настроек

Некоторые настройки можно менять во время работы. Они не сохраняются после выхода.

Если в [контекстном меню](using.html#using-context-menu) выбрать "Настройки", появится [диалоговое окно](using.html#using-dialog) управления деревом.
